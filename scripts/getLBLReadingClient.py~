#!/usr/bin/env python

import sys
import rospy
from multi_robot_localisation.srv import *
from geometry_msgs.msg import Pose, Point, Quaternion, Twist

def getLBLReadingClient(p):
    rospy.wait_for_service('get_LBL_reading')
    try:
        getReading = rospy.ServiceProxy('get_LBL_reading', getLBLReading)
	print p.x
        resp1 = getReading(p)
        return resp1.distance
	print resp1.distance
    except rospy.ServiceException, e:
        print "Service call failed: %s"%e

def usage():
    return "%s [x]"%sys.argv[0]

if __name__ == "__main__":
    print sys.argv
    x = sys.argv[1]
    y = sys.argv[2] 
    z = sys.argv[3]
    p = Point(float(x), float(y), float(z))
    print "Requesting", p
    print getLBLReadingClient(p)
